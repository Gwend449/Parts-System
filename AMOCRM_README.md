# üìã –†–ï–ó–Æ–ú–ï: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AmoCRM

## üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–Ø –≥–æ—Ç–æ–≤–æ –∑–∞–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AmoCRM –≤ —Ç–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∂–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞, –∏ —Ç–µ–±–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤.

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ –≤ –∫–æ–¥–µ

| –§–∞–π–ª/–ü–∞–ø–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| `config/amocrm.php` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| `app/Models/AmocrmToken.php` | Model –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| `app/Services/AmoService.php` | –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AmoCRM API (—Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤) |
| `app/Http/Controllers/AmoAuthController.php` | –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ callback |
| `app/Http/Controllers/AmoTestController.php` | –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API |
| `app/Console/Commands/CheckAmoStatus.php` | –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |
| `app/Services/AmoExamples.php` | –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π |
| `database/migrations/2025_12_12_195215_create_amocrm_tokens_table.php` | –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ |
| `routes/web.php` | Routes –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å named routes |
| `.env.example` | –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è AmoCRM |

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–µ–±–µ

### –®–∞–≥ 1Ô∏è‚É£: –ü–æ–ª—É—á–∏—Ç—å credentials (10 –º–∏–Ω)

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://www.amocrm.ru (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è)
2. –õ–µ–≤–æ–µ –º–µ–Ω—é ‚Üí **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã** ‚Üí **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Üí **–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –∏ –ø–æ–ª—É—á–∏—Ç—å:
   - `Client ID`
   - `Client Secret`
   - `Subdomain` (–∏–∑ URL)

### –®–∞–≥ 2Ô∏è‚É£: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å localhost –¥–ª—è AmoCRM (10 –º–∏–Ω)

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** AmoCRM —Ç—Ä–µ–±—É–µ—Ç HTTPS –∏ –≤–∞–ª–∏–¥–Ω—ã–π –¥–æ–º–µ–Ω. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π **ngrok**:

```bash
brew install ngrok  # –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
ngrok http 8000     # –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```

–ü–æ–ª—É—á–∏—à—å URL: `https://abc123.ngrok.io`

### –®–∞–≥ 3Ô∏è‚É£: –û–±–Ω–æ–≤–∏—Ç—å `.env` (2 –º–∏–Ω)

```bash
AMO_CLIENT_ID=–≤–∞—à_client_id
AMO_CLIENT_SECRET=–≤–∞—à_client_secret
AMO_REDIRECT_URI=https://abc123.ngrok.io/amocrm/callback
AMOCRM_SUBDOMAIN=–≤–∞—à_subdomain
```

### –®–∞–≥ 4Ô∏è‚É£: –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (5 –º–∏–Ω)

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä: `php artisan serve`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å ngrok: `ngrok http 8000` (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
3. –ü–µ—Ä–µ–π—Ç–∏: `https://abc123.ngrok.io/amocrm/install`
4. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ AmoCRM (–ª–æ–≥–∏–Ω + –ø–∞—Ä–æ–ª—å)
5. –ì–æ—Ç–æ–≤–æ! –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î

### –®–∞–≥ 5Ô∏è‚É£: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (1 –º–∏–Ω)

```bash
php artisan amo:status
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: ‚úÖ AmoCRM –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!

## üìö –ì–¥–µ –Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

- **–ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:** `AMOCRM_INTEGRATION.md`
- **–ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç:** `AMOCRM_CHECKLIST.md`
- **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** `app/Services/AmoExamples.php`

## üí° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞** - –∫–æ–≥–¥–∞ —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç, —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –µ–≥–æ  
‚úÖ **–ì–æ—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å** - –ø—Ä–æ—Å—Ç–æ –≤–Ω–µ–¥—Ä–∏ `AmoService` –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ –∏—Å–ø–æ–ª—å–∑—É–π  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ credentials –≤ `.env`  
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π route –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `/amocrm/test-lead`  
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `storage/logs/laravel.log`

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```php
use App\Services\AmoService;
use AmoCRM\Models\LeadModel;

$amo = new AmoService();

$lead = new LeadModel();
$lead->setName('–ù–æ–≤—ã–π –∑–∞–∫–∞–∑');

$amo->api()->leads()->addOne($lead);
```

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
php artisan amo:status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–∫–µ–Ω –≤ –ë–î
php artisan tinker
\App\Models\AmocrmToken::first()
```

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `tail -f storage/logs/laravel.log`
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `.env` –æ–±–Ω–æ–≤–ª–µ–Ω
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `php artisan migrate`
4. –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å credentials –≤ AmoCRM

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç—ã –º–æ–∂–µ—à—å:

1. ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏–∑ —Ñ–æ—Ä–º –∑–∞–∫–∞–∑–æ–≤
2. ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–¥–µ–ª–∫–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É
3. ‚úÖ –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –≤ AmoCRM
4. ‚úÖ –ü–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ AmoCRM
5. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã

**–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –≤ —Ñ–∞–π–ª–µ `app/Services/AmoExamples.php`**

---

**‚è±Ô∏è –í—Ä–µ–º—è –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: ~30-40 –º–∏–Ω—É—Ç**

–ù–∞—á–Ω–∏ —Å –®–∞–≥–∞ 1Ô∏è‚É£ –∏ —Å–ª–µ–¥–∏ –ø–æ AMOCRM_CHECKLIST.md - –≤—Å—ë –ø—Ä–æ—Å—Ç–æ! üöÄ

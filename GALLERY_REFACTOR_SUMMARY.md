# üì∏ –ò—Ç–æ–≥–∏ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ì–∞–ª–µ—Ä–µ–∏ - 13 —è–Ω–≤–∞—Ä—è 2026

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–£–¥–∞–ª–µ–Ω–∏–µ Alpine.js** ‚ú®
   - ‚ùå –£–¥–∞–ª–∏–ª–∏: `window.engineGallery()` —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ `resources/js/app.js`
   - ‚ùå –£–¥–∞–ª–∏–ª–∏: `<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>` –∏–∑ header
   - ‚úÖ –ü—Ä–∏—á–∏–Ω–∞: Alpine.js –≤—ã–∑—ã–≤–∞–ª –æ—à–∏–±–∫–∏ "currentIndex is not defined" –∏ —É—Å–ª–æ–∂–Ω—è–ª –∫–æ–¥

### 2. **–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –≥–∞–ª–µ—Ä–µ—è –Ω–∞ Vanilla JavaScript** üöÄ
   - **–§–∞–π–ª:** `resources/views/components/engine-gallery.blade.php`
   - **–£–ª—É—á—à–µ–Ω–∏—è:**
     - –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ `x-data`, `@click` –¥–∏—Ä–µ–∫—Ç–∏–≤—ã Alpine.js
     - –î–æ–±–∞–≤–ª–µ–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JavaScript –∫–æ–¥ (70 —Å—Ç—Ä–æ–∫)
     - –í—Å–µ —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
     - –õ–æ–≥–∏–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–Ω—è—Ç–Ω–∞ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

### 3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** ‚ú®
   - ‚úÖ –ö–ª–∏–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ = –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
   - ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏ (–ª–µ–≤–∞—è/–ø—Ä–∞–≤–∞—è) –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
   - ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π:
     - `ArrowLeft` / `ArrowRight` –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
     - `Escape` –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
   - ‚úÖ –ö–ª–∏–∫ –Ω–∞ thumbnail = –≤—ã–±–æ—Ä –∏ –ø–æ–∫–∞–∑ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
   - ‚úÖ –ö–ª–∏–∫ –Ω–∞ —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ = –∑–∞–∫—Ä—ã—Ç–∏–µ
   - ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "N / Total" –≤–Ω–∏–∑—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

### 4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è Deploy** üîß
   - **`.env.production`:**
     - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞: `LOG_CHANNEL=stack–ö—É` ‚Üí `LOG_CHANNEL=stack`
     - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ VITE –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è production:
       ```
       VITE_APP_URL=https://avrb1749.ru
       VITE_HMR_HOST=avrb1749.ru
       VITE_HMR_PORT=443
       VITE_HMR_PROTOCOL=wss
       ```
     - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã AMOCRM –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### 5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤** ‚úÖ
   - `vite.config.js` - ‚úÖ –í –ø–æ—Ä—è–¥–∫–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `VITE_HMR_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
   - `tailwind.config.js` - ‚úÖ –í –ø–æ—Ä—è–¥–∫–µ
   - `postcss.config.js` - ‚úÖ –í –ø–æ—Ä—è–¥–∫–µ
   - `package.json` - ‚úÖ –í –ø–æ—Ä—è–¥–∫–µ
   - –í—Å–µ CSS –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã - ‚úÖ –í –ø–æ—Ä—è–¥–∫–µ

### 6. **–û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞** üßπ
   - ‚úÖ `resources/js/app.js` - —É–ø—Ä–æ—â—ë–Ω (—É–¥–∞–ª–∏–ª–∏ 50 —Å—Ç—Ä–æ–∫ Alpine –∫–æ–¥–∞)
   - ‚úÖ `resources/views/components/engine-gallery.blade.php` - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - ‚úÖ –ö–æ–¥–∞ —Å—Ç–∞–ª–æ –ú–ï–ù–¨–®–ï, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ë–û–õ–¨–®–ï

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend Build
```bash
npm run build
‚úì 55 modules transformed
‚úì built in 584ms
‚úì –í—Å–µ –∞—Å—Å–µ—Ç—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ
```

## üìã –§–∞–π–ª—ã –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å

```
‚úì resources/views/components/engine-gallery.blade.php (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞)
‚úì resources/js/app.js (—É–ø—Ä–æ—â–µ–Ω–∞ –Ω–∞ 50 —Å—Ç—Ä–æ–∫)
‚úì resources/views/layouts/header.blade.php (—É–¥–∞–ª—ë–Ω Alpine.js CDN)
‚úì .env.production (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–ø–µ—á–∞—Ç–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
```

## üöÄ Deploy Checklist

–ü–µ—Ä–µ–¥ `git pull` –Ω–∞ production —É–±–µ–¥–∏—Ç–µ—Å—å:

```bash
# 1. Build assets
npm install
npm run build

# 2. Run migrations (–µ—Å–ª–∏ –µ—Å—Ç—å)
php artisan migrate --force

# 3. Clear caches
php artisan cache:clear
php artisan view:clear
php artisan config:clear

# 4. Restart services (Docker/PM2/etc)
docker compose up -d  # –∏–ª–∏ –≤–∞—à –º–µ—Ç–æ–¥

# 5. Test gallery page
# –û—Ç–∫—Ä–æ–π—Ç–µ https://avrb1749.ru/engines/{slug}
# - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
# - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
# - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å—Ç—Ä–µ–ª–∫–∞–º–∏
# - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π (‚Üí, ‚Üê, Esc)
```

## üîç –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/engines/{slug}` (engine-show)
1. **–ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å preview –∫–∞—á–µ—Å—Ç–≤–æ–º (600x600)
   - Hover —ç—Ñ—Ñ–µ–∫—Ç: –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ + –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã
   - –ö–ª–∏–∫ = –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

2. **Thumbnails:**
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å thumb –∫–∞—á–µ—Å—Ç–≤–æ–º (250x250)
   - –ê–∫—Ç–∏–≤–Ω—ã–π thumbnail –ø–æ–¥—Å–≤–µ—á–µ–Ω –æ—Ä–∞–Ω–∂–µ–≤—ã–º
   - –ö–ª–∏–∫ = –≤—ã–±—Ä–∞—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

3. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:**
   - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
   - –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (preview –∫–∞—á–µ—Å—Ç–≤–æ)
   - –°—Ç—Ä–µ–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å–ª–µ–≤–∞/—Å–ø—Ä–∞–≤–∞
   - –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "—Ç–µ–∫—É—â–µ–µ / –≤—Å–µ–≥–æ" –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–ª–∏–∫–æ–º –Ω–∞ —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω –∏–ª–∏ –∫–Ω–æ–ø–∫–æ–π Esc

## ‚ùå –ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ

1. **Alpine.js** - –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ Vanilla JS
2. **50 —Å—Ç—Ä–æ–∫ –ª–∏—à–Ω–µ–≥–æ –∫–æ–¥–∞** –∏–∑ app.js
3. **WebSocket –æ—à–∏–±–∫–∏** - –∑–∞–≤–∏—Å–µ–ª–∏ –æ—Ç Alpine.js
4. **–û–ø–µ—á–∞—Ç–∫–∞ –≤ .env.production**

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤ –±—É–¥—É—â–µ–º:
- **–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç–∏–Ω–æ–∫** - —Å–º–æ—Ç—Ä–∏—Ç–µ `config/media-library.php`
- **–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª–∏ –≥–∞–ª–µ—Ä–µ–∏** - —Å–º–æ—Ç—Ä–∏—Ç–µ `resources/css/styles.css` (—Å—Ç—Ä–æ–∫–∏ 244-500)
- **–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ** - —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ `resources/views/components/engine-gallery.blade.php`

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –ì–∞–ª–µ—Ä–µ—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –ö–æ–¥ —É–ø—Ä–æ—â—ë–Ω –∏ —á–∏—Ç–∞–µ–º–µ–µ
‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç Alpine.js
‚úÖ Deploy –±–µ–∑–æ–ø–∞—Å–µ–Ω
‚úÖ –ö–æ–Ω—Ñ–∏–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---
**–î–∞—Ç–∞:** 13 —è–Ω–≤–∞—Ä—è 2026
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ deploy

# üêõ –û–¢–õ–ê–î–ö–ê –ü–†–û–ë–õ–ï–ú–´ –° –ó–ê–ì–†–£–ó–ö–û–ô –§–û–¢–û

## –ü—Ä–æ–±–ª–µ–º–∞: –§–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è placeholder)

### ‚úÖ –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

1. **–î–æ–±–∞–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–ø–µ—Ä–∞—Ü–∏—è—Ö**
   - ‚úì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `session()->flash()` –≤–º–µ—Å—Ç–æ `dispatch()`
   - ‚úì Alert'—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
   - ‚úì Alert'—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ `storage/logs/laravel.log`
   - –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

3. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤–∏–¥–µ–Ω –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
   - –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

### üîç –ö–ê–ö –û–¢–õ–ê–î–ò–¢–¨ –ü–†–û–ë–õ–ï–ú–£ –° –§–û–¢–û

#### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
tail -f storage/logs/laravel.log
```

–ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞:
```
[...] INFO: Starting media upload for engine 97
[...] INFO: Adding media file
[...] INFO: Media added successfully
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ - —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É.

#### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ storage —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ symlink —Å–æ–∑–¥–∞–Ω
ls -la public/storage

# –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, —Å–æ–∑–¥–∞–µ–º
php artisan storage:link
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

```bash
# –ü—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É storage
chmod -R 755 storage/
chmod -R 755 storage/app/public/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
touch storage/app/public/test.txt
```

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –≤ –ë–î

```bash
sqlite3 database/database.sqlite
SELECT id, file_name, generated_conversions FROM media WHERE model_id = 97 LIMIT 5;
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ `thumb` –∏ `preview`.

#### –®–∞–≥ 5: –í—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–≤–µ—Ä—Å–∏—é

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la storage/app/public/*/conversions/
```

### üéØ –ï–°–õ–ò –§–û–¢–û –í–°–ï–ú–£ –ï–©–ï –ù–ï –ó–ê–ì–†–£–ñ–ê–Æ–¢–°–Ø

#### –í–∞—Ä–∏–∞–Ω—Ç 1: ImageMagick –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ ImageMagick
which convert

# –ï—Å–ª–∏ –Ω–µ—Ç - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
brew install imagemagick  # macOS
# –∏–ª–∏
apt-get install imagemagick  # Linux
```

–û–±–Ω–æ–≤–∏—Ç—å `.env`:
```
IMAGEMAGICK_BINARY=/usr/bin/convert
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã

–í `app/Models/Engine.php` —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `nonQueued()`:

```php
$this->addMediaConversion('thumb')
    ->crop(250, 250)
    ->quality(75)
    ->nonQueued();  // ‚Üê –í–ê–ñ–ù–û!
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Livewire –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
mkdir -p storage/livewire-tmp
chmod 755 storage/livewire-tmp

# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
touch storage/livewire-tmp/test.txt
```

### üìä –ü–†–û–í–ï–†–ö–ê –®–ê–ì –ó–ê –®–ê–ì–û–ú

```bash
# 1. PHP –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω?
php -v

# 2. Laravel —Ä–∞–±–æ—Ç–∞–µ—Ç?
php artisan tinker
>>> Engine::first()

# 3. Livewire —Ä–∞–±–æ—Ç–∞–µ—Ç?
php artisan livewire:make TestComponent

# 4. Spatie MediaLibrary —Ä–∞–±–æ—Ç–∞–µ—Ç?
php artisan tinker
>>> $e = Engine::first()
>>> $e->addMedia('test.jpg')->toMediaCollection('images')

# 5. –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è?
>>> $e->getMedia('images')->first()->getUrl('thumb')
```

### üîß –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï

–ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
php artisan cache:clear
php artisan config:cache

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å storage link
rm public/storage
php artisan storage:link

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
rm -rf storage/livewire-tmp/*
rm -rf storage/app/public/*

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç php artisan serve)
# Ctrl+C –∏ –∑–∞—Ç–µ–º php artisan serve
```

### üìù –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨ –í –ö–û–î–ï

#### EngineMediaManager.php

```php
// –ë—ã–ª–æ:
$this->dispatch('notify', ['type' => 'success', ...]);

// –°—Ç–∞–ª–æ:
session()->flash('success', '–°–æ–æ–±—â–µ–Ω–∏–µ');

// + –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
\Log::info('Adding media file', [...]);
```

#### engine-media-manager.blade.php

```blade
// –î–æ–±–∞–≤–ª–µ–Ω—ã flash —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ:
@if($message = session('success'))
    <div class="alert alert-success alert-dismissible fade show">
        {{ $message }}
    </div>
@endif

// –û–±–Ω–æ–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫—Ä—ã—Ç–∏—è alert'–æ–≤
```

### üí° –°–û–í–ï–¢–´

1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `php.ini`:
   ```
   upload_max_filesize = 10M
   post_max_size = 10M
   ```

2. **–ï—Å–ª–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–æ—Ç–æ. –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–∂–µ—Ç –¥–ª–∏—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é?** - —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç:
   ```
   memory_limit = 256M
   ```

### üìû –ï–°–õ–ò –ù–ï –ü–û–ú–û–ì–õ–û

1. –ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ –≤—ã–≤–æ–¥ –∏–∑ –ª–æ–≥–æ–≤:
   ```bash
   tail -100 storage/logs/laravel.log > log.txt
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
   ```bash
   php artisan about
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   ```bash
   php -m | grep -i gd
   php -m | grep -i imagemagick
   ```

---

**–í–µ—Ä—Å–∏—è:** 1.1  
**–î–∞—Ç–∞:** 7 —è–Ω–≤–∞—Ä—è 2026 –≥.  
**–°—Ç–∞—Ç—É—Å:** –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

# üöÄ –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï: –°–ª–µ–¥–∏ —ç—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ!

## üéØ –¢–í–û–Ø –ü–†–û–ë–õ–ï–ú–ê

–í–∏–¥–∏—à—å –ª–æ–≥–∏:
```
[11:05:31] AmoCRM OAuth: –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é ‚úÖ
[11:05:31] AmoCRM OAuth: state —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω ‚úÖ
[11:05:31] AmoCRM OAuth: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é ‚úÖ
```

**–ê –ø–æ—Ç–æ–º "–ó–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ—Ç"** ‚ùå

---

## üîß –ß–¢–û –î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°

### –®–∞–≥ 1 (5 –ú–ò–ù–£–¢): –ü—Ä–æ–≤–µ—Ä—å AmoCRM Dashboard

1. –û—Ç–∫—Ä–æ–π: https://fastis02.amocrm.ru
2. –ü–µ—Ä–µ–π–¥–∏: **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Üí **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º** ‚Üí **–ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
3. –ù–∞–∂–º–∏ –Ω–∞ —Ç–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. **–ù–∞–π–¥–∏ –ø–æ–ª–µ "Redirect URI"** (–∏–ª–∏ "Callback URL")
5. –ü–æ—Å–º–æ—Ç—Ä–∏ —á—Ç–æ —Ç–∞–º –Ω–∞–ø–∏—Å–∞–Ω–æ

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
https://avrb1749.ru/amocrm/callback
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –±—É–¥–µ—Ç:**
```
https://avrb1749.ru/amocrm/install (‚ùå install –≤–º–µ—Å—Ç–æ callback)
http://avrb1749.ru/amocrm/callback (‚ùå http –≤–º–µ—Å—Ç–æ https)
https://avrb1749.ru/amocrm/callback/ (‚ùå —Å–ª—ç—à –≤ –∫–æ–Ω—Ü–µ)
https://avrb1749.ru/ (‚ùå –ø—É—Å—Ç–æ–π)
```

---

## üé¨ –ï–°–õ–ò –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û

1. –ù–∞–∂–º–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" (–∫–Ω–æ–ø–∫–∞ Edit –∏–ª–∏ Settings)
2. –ù–∞–π–¥–∏ –ø–æ–ª–µ Redirect URI
3. **–ó–∞–º–µ–Ω–∏ –Ω–∞:** `https://avrb1749.ru/amocrm/callback`
4. –ù–∞–∂–º–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. **–í–°–ï!** –¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å–Ω–æ–≤–∞

---

## üß™–®–ê–ì 2 (2 –ú–ò–ù–£–¢–´): –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh user@avrb1749.ru

# –í—ã–ø–æ–ª–Ω–∏ 3 –∫–æ–º–∞–Ω–¥—ã
php artisan config:cache
php artisan route:clear  
php artisan migrate --force

# –ì–æ—Ç–æ–≤–æ!
```

---

## üîç –®–ê–ì 3 (3 –ú–ò–ù–£–¢–´): –¢–µ—Å—Ç–∏—Ä—É–π

```bash
# –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
ssh user@avrb1749.ru
tail -f storage/logs/laravel.log | grep -i amocrm
```

–ü–æ—Ç–æ–º –æ—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://avrb1749.ru/amocrm/install
```

–ò –∞–≤—Ç–æ—Ä–∏–∑—É–π—Å—è –≤ AmoCRM.

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –ª–æ–≥–∞—Ö:**
```
[11:05:31] AmoCRM OAuth: –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é ‚úÖ
[11:05:31] AmoCRM OAuth: state —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω ‚úÖ
[11:05:31] AmoCRM OAuth: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é ‚úÖ
(—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑—É–µ—à—å—Å—è –≤ AmoCRM)
[11:05:40] AmoCRM CALLBACK DEBUG ... ‚úÖ (—ç—Ç–æ –Ω–æ–≤–æ–µ - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è!)
[11:05:40] AmoCRM OAuth: callback –ø–æ–ª—É—á–µ–Ω ‚úÖ
[11:05:40] AmoCRM OAuth: –æ–±–º–µ–Ω –∫–æ–¥–∞ –Ω–∞ —Ç–æ–∫–µ–Ω ‚úÖ
[11:05:41] AmoCRM —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∞ ‚úÖ
```

---

## ‚úÖ –ï–°–õ–ò –í–ò–î–ò–®–¨ –í–°–ï –≠–¢–ò –õ–û–ì–ò

**–ì–û–¢–û–í–û!** üéâ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!

–ü—Ä–æ–≤–µ—Ä—å:
```bash
php artisan amo:status
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: ‚úÖ AmoCRM –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!
```

---

## ‚ùå –ï–°–õ–ò –í–°–ï –ï–©–ï –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–≥–æ–≤ "CALLBACK DEBUG" –Ω–µ—Ç

**–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:** AmoCRM –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç callback –Ω–∞ —Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ï—â–µ —Ä–∞–∑ –ø—Ä–æ–≤–µ—Ä—å Redirect URI –≤ AmoCRM Dashboard
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ **–¢–û–ß–ù–û** —Å–æ–≤–ø–∞–¥–∞–µ—Ç: `https://avrb1749.ru/amocrm/callback`
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
4. –°–æ—Ö—Ä–∞–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. **–û—á–µ–Ω—å –≤–∞–∂–Ω–æ:** –ü–æ–ø—Ä–æ—Å–∏ —á–µ–ª–æ–≤–µ–∫–∞ –ü–û–í–¢–û–†–ò–¢–¨ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–Ω–µ –≤—Ç–æ—Ä–æ–π –ø–æ–ø—ã—Ç–æ–∫ - –¥–µ–ª–∞–µ—Ç –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å—Ç—å –¥—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

**–ü–æ–¥–µ–ª–∏—Å—å –ª–æ–≥–∞–º–∏!**
```bash
tail -n 100 storage/logs/laravel.log | grep -i amocrm
# –°–∫–æ–ø–∏—Ä—É–π –≤—ã–≤–æ–¥ –∏ –æ—Ç–ø—Ä–∞–≤—å
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –î–õ–Ø –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø

```
‚òê 1. –û—Ç–∫—Ä—ã–ª AmoCRM Dashboard (https://fastis02.amocrm.ru)
‚òê 2. –ü–µ—Ä–µ—à–µ–ª: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º ‚Üí –ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚òê 3. –ù–∞—à–µ–ª —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚òê 4. –ü–æ—Å–º–æ—Ç—Ä–µ–ª Redirect URI
‚òê 5. –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª –Ω–∞: https://avrb1749.ru/amocrm/callback
‚òê 6. –°–æ—Ö—Ä–∞–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ AmoCRM
‚òê 7. –í—ã–ø–æ–ª–Ω–∏–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: php artisan config:cache
‚òê 8. –í—ã–ø–æ–ª–Ω–∏–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: php artisan route:clear
‚òê 9. –í—ã–ø–æ–ª–Ω–∏–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: php artisan migrate --force
‚òê 10. –û—Ç–∫—Ä—ã–ª https://avrb1749.ru/amocrm/install –≤ –±—Ä–∞—É–∑–µ—Ä–µ
‚òê 11. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª—Å—è –≤ AmoCRM
‚òê 12. –ü–æ—Å–º–æ—Ç—Ä–µ–ª –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "CALLBACK DEBUG" + "—É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∞"
‚òê 13. –ü—Ä–æ–≤–µ—Ä–∏–ª: php artisan amo:status ‚Üí –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å ‚úÖ AmoCRM –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!
```

---

## üéØ –ò–¢–û–ì

**–ì–õ–ê–í–ù–û–ï:** Redirect URI –≤ AmoCRM –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **`https://avrb1749.ru/amocrm/callback`**

–ï—Å–ª–∏ –æ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ 100%! 

–ï—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - callback –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏–¥–µ—Ç –∏ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ "–ó–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ—Ç".

---

**–í—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: 10-15 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º!**
